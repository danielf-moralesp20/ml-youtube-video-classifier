schema: '2.0'
stages:
  make_dataset:
    cmd: python src/data/make_dataset.py --config params.yaml
    deps:
    - path: src/data/make_dataset.py
      md5: 4bc9d58a8f798d57d10b7c2acfce6fc2
      size: 1630
    params:
      params.yaml:
        make_dataset:
          datasets:
          - dir: data/raw/YouTube Titles and description using youtube api.csv
            feature_names:
              title: Title
              description: Description
            target: Category
          - dir: data/raw/Youtube Video Dataset.csv
            feature_names:
              title: Title
              description: Description
            target: Category
          - dir: data/raw/youtube.csv
    outs:
    - path: data/interim/youtube.csv
      md5: 456b6da45a72feb079c83a4e26fcd61f
      size: 20820603
  build_features:
    cmd: python src/features/build_features.py --config params.yaml
    deps:
    - path: data/processed/youtube.csv
      md5: e5e9d1c1c9574b9626ee100811650074
      size: 34636936
    - path: src/features/build_features.py
      md5: b825f9033a192058c61ad309d97a77b1
      size: 1967
    params:
      params.yaml:
        base:
          random_state: 20
        build_features:
          test_size: 0.2
          min_df: 0.05
    outs:
    - path: data/processed/test.csv
      md5: 33d0109e0b3f91e75535f07e46730424
      size: 2152079
    - path: data/processed/train.csv
      md5: 8376164dbbcc430ae8410f3f7ce2de92
      size: 8588076
  clean_dataset:
    cmd:
    - python -m nltk.downloader stopwords
    - python src/features/clean_dataset.py --config params.yaml
    deps:
    - path: data/interim/youtube.csv
      md5: 456b6da45a72feb079c83a4e26fcd61f
      size: 20820603
    - path: src/features/clean_dataset.py
      md5: 9bfbf472215c70787ed92315e3290549
      size: 2038
    params:
      params.yaml:
        clean_dataset:
          english_threshold_confidence: 0.95
          min_token_length: 3
          min_tokens_count: 5
    outs:
    - path: data/processed/youtube.csv
      md5: e5e9d1c1c9574b9626ee100811650074
      size: 34636936
